<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profil - MatchDoom</title>
    <!-- <link rel="stylesheet" href="../css/accueil.css"> -->
    <link rel="stylesheet" href="/css/profil.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
    <div class="background-overlay"></div>

    <div class="main-container">
        <!-- HEADER -->
        <header class="app-header">
            <h1>üë§ Mon Profil Joueur</h1>
            <div class="auth-controls">
                <div class="status-indicator">
                    <div class="status-dot connected" id="profileStatus"></div>
                    <span id="statusText">Connect√©</span>
                </div>
                <button id="logoutBtn" class="auth-btn secondary">Se d√©connecter</button>
                <button onclick="window.location.href='/accueil'" class="auth-btn primary">Retour</button>
            </div>
        </header>

        <!-- ZONE PROFIL -->
        <main class="game-frame">
            <div class="frame-header">
                <h2>Statistiques du joueur</h2>
                <div class="frame-controls">
                    <button class="control-btn" id="refreshProfileBtn">üîÑ</button>
                    <button class="control-btn" onclick="showLeaderboard()">üèÜ</button>
                </div>
            </div>

            <div class="api-content" id="profileContainer">
                <!-- container dynamic -->
                <div class="api-loading" id="loadingIndicator">
                    <div class="welcome-icon">‚è≥</div>
                    <h3>Chargement du profil...</h3>
                    <div class="loading-dots">
                        <span></span><span></span><span></span>
                    </div>
                </div>

                <!-- User profil -->
                <div class="welcome-screen hidden" id="profileData">
                    <div class="welcome-icon">üéØ</div>
                    <h3 id="pseudoDisplay">Pseudo: ...</h3>
                    <p>Email: <span id="emailDisplay">...</span></p>
                    <p>Membre depuis: <span id="memberSince">...</span></p>
                    
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-number" id="totalGames">0</div>
                            <div class="stat-label">Parties jou√©es</div>
                        </div>
                        <div class="stat-card wins">
                            <div class="stat-number" id="wins">0</div>
                            <div class="stat-label">Victoires</div>
                        </div>
                        <div class="stat-card losses">
                            <div class="stat-number" id="losses">0</div>
                            <div class="stat-label">D√©faites</div>
                        </div>
                        <div class="stat-card draws">
                            <div class="stat-number" id="draws">0</div>
                            <div class="stat-label">√âgalit√©s</div>
                        </div>
                    </div>

                    <div class="win-rate-container">
                        <div class="win-rate-circle">
                            <div class="win-rate-text">
                                <span id="winRatePercent">0%</span>
                                <small>Taux de victoire</small>
                            </div>
                        </div>
                    </div>

                    <button id="playFromProfileBtn" class="play-button">
                        <span class="play-button-text">
                            <span class="play-icon">‚ñ∂</span> Nouvelle partie
                        </span>
                    </button>
                </div>

                <!-- Error Msg -->
                <div class="api-error hidden" id="errorMessage">
                    <div class="welcome-icon">‚ùå</div>
                    <h3>Erreur de chargement</h3>
                    <p id="errorText">Impossible de charger le profil</p>
                    <button onclick="loadProfile()" class="auth-btn primary">R√©essayer</button>
                </div>
            </div>
        </main>

        <!-- FOOTER -->
        <footer class="app-footer">
            <div class="footer-info">
                <span>üîê Session : <span id="sessionUser">Utilisateur connect√©</span></span>
                <span>üéÆ App : MatchDoom</span>
                <span>‚è∞ <span id="currentTime"></span></span>
            </div>
        </footer>
    </div>

    <!-- Modal Classement -->
    <div class="modal hidden" id="leaderboardModal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeLeaderboard()">&times;</span>
            <h2>üèÜ Classement</h2>
            <div id="leaderboardContent">
                <div class="api-loading">
                    <div class="loading-dots"><span></span><span></span><span></span></div>
                </div>
            </div>
        </div>
    </div>

    <script src="/js/profil.js"></script>
</body>
</html>